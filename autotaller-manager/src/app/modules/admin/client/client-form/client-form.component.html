<div class="container py-5" style="max-width: 600px; margin-top: 80px;">
  <h2 class="mb-4 text-white">
    {{ editMode ? 'Editar Cliente' : 'Nuevo Cliente' }}
  </h2>

  <form #clientForm="ngForm" (ngSubmit)="save()">
    <div class="mb-3">
      <label class="form-label text-white">Nombre *</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="client.name"
        name="name"
        #name="ngModel"
        required
        minlength="2"
        [class.is-invalid]="name.invalid && name.touched"
      />
      <div class="invalid-feedback" *ngIf="name.invalid && name.touched">
        <div *ngIf="name.errors?.['required']">El nombre es requerido</div>
        <div *ngIf="name.errors?.['minlength']">Debe tener al menos 2 caracteres</div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label text-white">Apellido *</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="client.lastname"
        name="lastname"
        #lastname="ngModel"
        required
        minlength="2"
        [class.is-invalid]="lastname.invalid && lastname.touched"
      />
      <div class="invalid-feedback" *ngIf="lastname.invalid && lastname.touched">
        <div *ngIf="lastname.errors?.['required']">El apellido es requerido</div>
        <div *ngIf="lastname.errors?.['minlength']">Debe tener al menos 2 caracteres</div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label text-white">Teléfono *</label>
      <input
        type="tel"
        class="form-control"
        [(ngModel)]="client.telephone"
        name="telephone"
        #telephone="ngModel"
        required
        pattern="^[0-9\-\+ ]{7,15}$"
        [class.is-invalid]="telephone.invalid && telephone.touched"
      />
      <div class="invalid-feedback" *ngIf="telephone.invalid && telephone.touched">
        <div *ngIf="telephone.errors?.['required']">El teléfono es requerido</div>
        <div *ngIf="telephone.errors?.['pattern']">Número inválido</div>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label text-white">Correo *</label>
      <input
        type="email"
        class="form-control"
        [(ngModel)]="client.email"
        name="email"
        #email="ngModel"
        required
        email
        [class.is-invalid]="email.invalid && email.touched"
      />
      <div class="invalid-feedback" *ngIf="email.invalid && email.touched">
        <div *ngIf="email.errors?.['required']">El correo es requerido</div>
        <div *ngIf="email.errors?.['email']">Formato de correo inválido</div>
      </div>
    </div>

    <div class="d-flex justify-content-between mt-4">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="clientForm.invalid"
      >
        {{ editMode ? 'Actualizar' : 'Crear' }} Cliente
      </button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">Cancelar</button>
    </div>
  </form>
</div>
